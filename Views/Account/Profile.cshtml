@using Microsoft.AspNetCore.Identity
@inject UserManager<User> UserManager
@model List<WorkoutRoutines>

@{
    ViewBag.Title = "Profile";
    var firstName = ViewBag.FirstName;
    var currentRoutine = ViewBag.CurrentRoutine;
}

<div class="row">
    <div class="col-md-4">
        <!-- User Information Card -->
        <div class="card shadow-sm" style="background-color: var(--bs-secondary-bg);">
            <div class="card-header text-white" style="background-color: var(--bs-primary-bg-subtle);">
                Profile Information
            </div>
            <ul class="list-group list-group-flush">
                <li class="list-group-item" style="background-color: var(--bs-secondary-bg); color: var(--bs-body-color);">
                    <strong>First name:</strong> @ViewBag.FirstName
                </li>
                <li class="list-group-item" style="background-color: var(--bs-secondary-bg); color: var(--bs-body-color);">
                    <strong>Last name:</strong> @ViewBag.LastName
                </li>
                <li class="list-group-item" style="background-color: var(--bs-secondary-bg); color: var(--bs-body-color);">
                    <strong>Email:</strong> @ViewBag.Email
                </li>
            </ul>
        </div>
    </div>

    <div class="col-md-8">
        <!-- Workout Routines Table -->
        <div class="card shadow-sm" style="background-color: var(--bs-secondary-bg);">
            <div class="card-header text-white" style="background-color: var(--bs-primary-bg-subtle);">
                Workout Routines
            </div>
            <table class="table table-hover" style="color: var(--bs-body-color);">
                <thead>
                    <tr style="background-color: var(--bs-secondary-bg);">
                        <th>Routine Name</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var routine in Model)
                    {
                        <tr>
                            <td>
                                @if (routine.WorkoutRoutineId == currentRoutine)
                                {
                                    <span class="text-warning">@routine.RoutineName - Your current routine</span>
                                }
                                else
                                {
                                    <span>@routine.RoutineName</span>
                                }
                            </td>
                            <td>
                                <a asp-controller="Workout" asp-route-id="@routine.WorkoutRoutineId" asp-action="ViewRoutine" class="btn" style="background-color: var(--bs-link-color); color: var(--bs-body-bg);">View Routine</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

